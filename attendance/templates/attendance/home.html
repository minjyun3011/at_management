<!doctype html>
<html lang="en">
{% load static %}

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>保護者ノーマルページ</title>
    <!-- CSSファイルの読み込み -->
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fullcalendar@5.10.2/main.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <meta name="csrf-token" content="{{ csrf_token }}">
    
</head>
<body>
    {% block navbar %}
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <a class="navbar-brand" href="#">佐藤 壮くん</a>
        <div class="navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'admin:attendance_attendance_add' %}">個人情報設定</a>
                </li>
            </ul>
        </div>
    </nav>
    {% endblock %}

    {% block content %}
    <!-- コンテンツのインクルード -->
    {% include "attendance/home2.html" %}
    <div id='calendar'></div>
    {% include "attendance/calendar.html" %}
    {% endblock %}
<!-- JavaScriptの読み込み -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.10.2/main.min.js"></script>
<!-- <script>
// グローバル変数としてカレンダーインスタンスを宣言
var calendar;

// ページが完全に読み込まれた後に実行
document.addEventListener('DOMContentLoaded', function() {
    var calendarEl = document.getElementById('calendar'); // カレンダーを表示する要素の取得
    if (calendarEl) {
        calendar = new FullCalendar.Calendar(calendarEl, {
            initialView: 'dayGridMonth',
            // ここに他のカレンダーオプションを配置
        });
        calendar.render(); // カレンダーを描画

        // ローカルストレージからイベントを読み込む関数を呼び出し
        loadOrFetchEvents();
    }
});

// ローカルストレージからイベントデータを取得してカレンダーに追加する関数
function loadOrFetchEvents() {
    var storedEvents = JSON.parse(localStorage.getItem('events') || '[]');
    storedEvents.forEach(function(eventData) {
        calendar.addEvent({
            title: eventData.full_name,
            start: eventData.start_time,
            end: eventData.end_time,
            allDay: true
        });
    });
}
</script> -->
<script src="{% static 'js/first.js' %}"></script>

</body>
</html>
